<form [formGroup]="pollForm" novalidate class="form">
  <div class="for-flex-wrapper a-container site-content">
    <mat-card class="a-card">
      <mat-card-content>
        <div formArrayName="questions">
          <mat-card class="a-card a-margin-bottom" *ngFor="let question of questions.controls; let i=index" [formGroupName]="i">
            <mat-card-content>
              <!-- <button mat-icon-button type="button" (click)="removeQuestion(i)" style="float:right" matTooltip="Remove  Question" class="a-clear-question"><mat-icon>clear</mat-icon></button> -->
              <mat-form-field class="a-full-width">
                <input matInput type="text" placeholder="Question" formControlName="question">
              </mat-form-field>
              <div class="" formArrayName="options">
                <mat-list>
                  <mat-list-item *ngFor="let option of question.controls['options'].controls; let j=index" [formGroupName]="j">
                    <mat-form-field class="full-width">
                      <input matInput type="text" placeholder="Option {{j+1}}" formControlName="option" (focus)="optionFocussed(i,j,question.controls['options'].controls.length)">
                      <button matSuffix type="button" mat-icon-button (click)="removeOption(i,j)" matTooltip="Remove  Option"><mat-icon svgIcon="remove"></mat-icon></button>
                    </mat-form-field>
                  </mat-list-item>
                </mat-list>
              </div>
              <div class="a-input"  style="margin: 25px 0 0 0;">
                <div ></div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
        <div class="a-input" style="margin: 25px 0 0 0;">
        <!-- <button mat-raised-button type="button" (click)="addQuestion()" class="a-margin-bottom">Add Question</button> -->
        <div ></div>
        <!-- <mat-select placeholder="Validity Days" name="days" formControlName="days">
          <mat-option *ngFor="let days of noOfDays" [value]="days.value">
            {{days.viewValue}}
          </mat-option>
        </mat-select> -->
        </div>
    </mat-card-content>
      <mat-toolbar color="">
        <button type="button" (click)="deletePoll(pollForm.value, pollForm.valid)" *ngIf="pollForm.state == 'draft' || 'publish'" mat-raised-button mat-mini-fab><mat-icon svgIcon="delete"></mat-icon></button>
        <span class="a-fill-remaining-space"></span>
        <button type="button" (click)="savePollEvent(pollForm.value, pollForm.valid, 'published')" mat-raised-button>Publish</button>
      </mat-toolbar>
    </mat-card>
  </div>


  <div class="margin-20">
    <div>myForm details:-</div>
    <pre>Is myForm valid?: <br>{{pollForm.valid | json}}</pre>
    <pre>Is myForm submitted?: <br>{{submitted | json}}</pre>
    <pre>myForm value: <br>{{pollForm.value | json}}</pre>
  </div>

</form>

